{
  "version": 4,
  "terraform_version": "1.1.7",
  "serial": 1108,
  "lineage": "fc0e2291-6da0-bce4-3180-967bda634737",
  "outputs": {},
  "resources": [
    {
      "module": "module.ssh",
      "mode": "managed",
      "type": "ibm_is_ssh_key",
      "name": "ssh_public_key",
      "provider": "module.ssh.provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "crn": "crn:v1:bluemix:public:is:us-south:a/e4fa9f3a7927459ca439e4b9eb522d54::key:r006-64a0dc80-30b6-4323-bd2a-5621d6819f70",
            "fingerprint": "SHA256:af4JuHyX9FjUUOKl/74waO2XmrJX50amzXwhwwNZev0",
            "id": "r006-64a0dc80-30b6-4323-bd2a-5621d6819f70",
            "length": 4096,
            "name": "forome-terraform-ssh",
            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCdnT2fTzTk6CFHQ425cNh5jOp+HYVmJHQ7KB5wS5CrZX5Z0tBH/BkKsSRrV3+e9Lcp77mYJKcK2Kf1Z7xcBRAwTuXJCXcOggxWpnWDUJ9VCAn90bMX1SzEBnW9Zwem0Gxxnw9P6lom8MQyLWmQIukH5KSrhaRxJqKnghM4sDiEpdyuvHk3k/CNy/k7glOjPUsZRbLxX/DyIffFVBksXVCEyA86N5HLN/w4cxH8/qGV/GX+YUtv/wyFsdNtYOWbOddRKEpE3tUFRuN1kqJWtTOaYEnSD+f6KcVhHaodmtKY6AJIloR7J1veluZN99xYQqdD7Kmn1cuQbZxSfsonDBdWoXLkrPMo43mGhgaQcdUc33nfGin/2ASsfBl6Xb1hFKWJtri2WllG0VT/aOvaxgjoxsbdCFa1t+IRWbySxwWDDQUlT9M8x9TsZj+Xucw6lwOe6Gqji9vFxVbgnIx3M5bAZyf5GQGV5PKeK1Qc1o1FMfWQbqhIqMrBGACY4bCyFz4+0nVNhp6G5/OnxLk70X5niw7Vo0qHxARO0su8xWV0DVq5yIVPcfzzmsvkGLzoQuWduEzbpkLiNqR3Q/HRva7w05N/WCZ81vFG1sCiFMkKf5S47sBFxDUwjrqVj+WrvGS2vElkCbLzBkSfOzsDap+gpV/RTtmd61jwJQx7Wp/NEw==",
            "resource_controller_url": "https://cloud.ibm.com/vpc-ext/compute/sshKeys",
            "resource_crn": "crn:v1:bluemix:public:is:us-south:a/e4fa9f3a7927459ca439e4b9eb522d54::key:r006-64a0dc80-30b6-4323-bd2a-5621d6819f70",
            "resource_group": "36431c4040924be6bad4306be499b281",
            "resource_group_name": "asset-forome",
            "resource_name": "forome-terraform-ssh",
            "tags": [],
            "type": "rsa"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.vsi",
      "mode": "data",
      "type": "ibm_is_image",
      "name": "ubuntu",
      "provider": "module.vsi.provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architecture": "amd64",
            "checksum": "986663ba88ac7818b0af58855cef576104874dbd1b68da849c047047627b8c89",
            "crn": "crn:v1:bluemix:public:is:us-south:a/811f8abfbd32425597dc7ba40da98fa6::image:r006-fe4460a2-aa88-421a-963a-a84ffa2c5592",
            "encryption": "none",
            "encryption_key": null,
            "id": "r006-fe4460a2-aa88-421a-963a-a84ffa2c5592",
            "identifier": null,
            "name": "ibm-ubuntu-20-04-3-minimal-amd64-2",
            "os": "ubuntu-20-04-amd64",
            "source_volume": null,
            "status": "available",
            "visibility": "public"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.vsi",
      "mode": "data",
      "type": "template_file",
      "name": "user_data",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "2c89959e649cebe7660faa926e79d145cfc981568a849cd14ab7351cfeedbd82",
            "rendered": "#cloud-config\nbootcmd:\n- mkdir -p /data\n- while [ ! -b $(readlink -f /dev/vdd) ]; do echo \"waiting for device /dev/vdd\"; sleep 5 ; done\n- while [ ! -b $(readlink -f /dev/vde) ]; do echo \"waiting for device /dev/vde\"; sleep 5 ; done\n- printf 'g\\nn\\n1\\n\\n\\nw' | fdisk /dev/vdd\n- printf 'g\\nn\\n1\\n\\n\\nw' | fdisk /dev/vde\n- mkfs.ext4 /dev/vdd1 -L var\n- mkfs.ext4 /dev/vde1 -L data\n- mount /dev/vdd1 /mnt\n- rsync -aulvXpogtr /var/lib/* /mnt\n- umount /mnt\n- rm -rf /var/lib/*\n# - mkdir /var/lib\nmounts:\n- [ \"LABEL=data\", \"/data\", \"ext4\", \"defaults\", \"0\", \"1\" ]\n- [ \"LABEL=var\", \"/var/lib\", \"ext4\", \"defaults,noatime,nofail\", \"0\", \"2\" ]\nusers:\n- default\n- name: forome\n  shell: '/bin/bash'\n  sudo: ['ALL=(ALL:ALL) NOPASSWD:ALL']\n  groups: sudo\n  ssh-authorized-keys:\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCdnT2fTzTk6CFHQ425cNh5jOp+HYVmJHQ7KB5wS5CrZX5Z0tBH/BkKsSRrV3+e9Lcp77mYJKcK2Kf1Z7xcBRAwTuXJCXcOggxWpnWDUJ9VCAn90bMX1SzEBnW9Zwem0Gxxnw9P6lom8MQyLWmQIukH5KSrhaRxJqKnghM4sDiEpdyuvHk3k/CNy/k7glOjPUsZRbLxX/DyIffFVBksXVCEyA86N5HLN/w4cxH8/qGV/GX+YUtv/wyFsdNtYOWbOddRKEpE3tUFRuN1kqJWtTOaYEnSD+f6KcVhHaodmtKY6AJIloR7J1veluZN99xYQqdD7Kmn1cuQbZxSfsonDBdWoXLkrPMo43mGhgaQcdUc33nfGin/2ASsfBl6Xb1hFKWJtri2WllG0VT/aOvaxgjoxsbdCFa1t+IRWbySxwWDDQUlT9M8x9TsZj+Xucw6lwOe6Gqji9vFxVbgnIx3M5bAZyf5GQGV5PKeK1Qc1o1FMfWQbqhIqMrBGACY4bCyFz4+0nVNhp6G5/OnxLk70X5niw7Vo0qHxARO0su8xWV0DVq5yIVPcfzzmsvkGLzoQuWduEzbpkLiNqR3Q/HRva7w05N/WCZ81vFG1sCiFMkKf5S47sBFxDUwjrqVj+WrvGS2vElkCbLzBkSfOzsDap+gpV/RTtmd61jwJQx7Wp/NEw==\n\npackage_update: true\npackage_upgrade: true\npackage_reboot_if_required: false\npackages:\n- vim\n- tmux\n- rsync\n- python3",
            "template": "#cloud-config\nbootcmd:\n- mkdir -p /data\n- while [ ! -b $(readlink -f ${var_disk_name}) ]; do echo \"waiting for device ${var_disk_name}\"; sleep 5 ; done\n- while [ ! -b $(readlink -f ${data_disk_name}) ]; do echo \"waiting for device ${data_disk_name}\"; sleep 5 ; done\n- printf 'g\\nn\\n1\\n\\n\\nw' | fdisk ${var_disk_name}\n- printf 'g\\nn\\n1\\n\\n\\nw' | fdisk ${data_disk_name}\n- mkfs.ext4 ${var_disk_name}1 -L var\n- mkfs.ext4 ${data_disk_name}1 -L data\n- mount ${var_disk_name}1 /mnt\n- rsync -aulvXpogtr /var/lib/* /mnt\n- umount /mnt\n- rm -rf /var/lib/*\n# - mkdir /var/lib\nmounts:\n- [ \"LABEL=data\", \"/data\", \"ext4\", \"defaults\", \"0\", \"1\" ]\n- [ \"LABEL=var\", \"/var/lib\", \"ext4\", \"defaults,noatime,nofail\", \"0\", \"2\" ]\nusers:\n- default\n- name: ${user_name}\n  shell: '/bin/bash'\n  sudo: ['ALL=(ALL:ALL) NOPASSWD:ALL']\n  groups: sudo\n  ssh-authorized-keys:\n  - ${ssh_public_key}\npackage_update: true\npackage_upgrade: true\npackage_reboot_if_required: false\npackages:\n- vim\n- tmux\n- rsync\n- python3",
            "vars": {
              "data_disk_name": "/dev/vde",
              "ssh_public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCdnT2fTzTk6CFHQ425cNh5jOp+HYVmJHQ7KB5wS5CrZX5Z0tBH/BkKsSRrV3+e9Lcp77mYJKcK2Kf1Z7xcBRAwTuXJCXcOggxWpnWDUJ9VCAn90bMX1SzEBnW9Zwem0Gxxnw9P6lom8MQyLWmQIukH5KSrhaRxJqKnghM4sDiEpdyuvHk3k/CNy/k7glOjPUsZRbLxX/DyIffFVBksXVCEyA86N5HLN/w4cxH8/qGV/GX+YUtv/wyFsdNtYOWbOddRKEpE3tUFRuN1kqJWtTOaYEnSD+f6KcVhHaodmtKY6AJIloR7J1veluZN99xYQqdD7Kmn1cuQbZxSfsonDBdWoXLkrPMo43mGhgaQcdUc33nfGin/2ASsfBl6Xb1hFKWJtri2WllG0VT/aOvaxgjoxsbdCFa1t+IRWbySxwWDDQUlT9M8x9TsZj+Xucw6lwOe6Gqji9vFxVbgnIx3M5bAZyf5GQGV5PKeK1Qc1o1FMfWQbqhIqMrBGACY4bCyFz4+0nVNhp6G5/OnxLk70X5niw7Vo0qHxARO0su8xWV0DVq5yIVPcfzzmsvkGLzoQuWduEzbpkLiNqR3Q/HRva7w05N/WCZ81vFG1sCiFMkKf5S47sBFxDUwjrqVj+WrvGS2vElkCbLzBkSfOzsDap+gpV/RTtmd61jwJQx7Wp/NEw==\n",
              "user_name": "forome",
              "var_disk_name": "/dev/vdd"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.vsi",
      "mode": "managed",
      "type": "ibm_is_instance",
      "name": "vsi",
      "provider": "module.vsi.provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": null,
            "auto_delete_volume": null,
            "bandwidth": 8000,
            "boot_volume": [
              {
                "encryption": "",
                "iops": 3000,
                "name": "forome-annotation-boot",
                "profile": "general-purpose",
                "size": 100,
                "snapshot": ""
              }
            ],
            "crn": "crn:v1:bluemix:public:is:us-south-2:a/e4fa9f3a7927459ca439e4b9eb522d54::instance:0727_6dc9dff2-56e9-4891-a9b3-e88c8ba7f951",
            "dedicated_host": null,
            "dedicated_host_group": null,
            "default_trusted_profile_auto_link": null,
            "default_trusted_profile_target": null,
            "disks": [],
            "force_action": false,
            "force_recovery_time": null,
            "gpu": [],
            "id": "0727_6dc9dff2-56e9-4891-a9b3-e88c8ba7f951",
            "image": "r006-fe4460a2-aa88-421a-963a-a84ffa2c5592",
            "instance_template": null,
            "keys": [
              "r006-64a0dc80-30b6-4323-bd2a-5621d6819f70"
            ],
            "memory": 16,
            "metadata_service_enabled": false,
            "name": "forome-annotation",
            "network_interfaces": [],
            "placement_group": null,
            "placement_target": [],
            "primary_network_interface": [
              {
                "allow_ip_spoofing": false,
                "id": "0727-05af3a06-1c3e-47fa-ab81-4d7895226deb",
                "name": "eth0",
                "port_speed": 0,
                "primary_ipv4_address": "10.240.64.65",
                "security_groups": [
                  "r006-232af301-0d00-4d1e-98be-d37427e83cce"
                ],
                "subnet": "0727-bea5643c-ddf6-4405-8c87-31a8c7642f8a"
              }
            ],
            "profile": "bx2-4x16",
            "resource_controller_url": "https://cloud.ibm.com/vpc-ext/compute/vs",
            "resource_crn": "crn:v1:bluemix:public:is:us-south-2:a/e4fa9f3a7927459ca439e4b9eb522d54::instance:0727_6dc9dff2-56e9-4891-a9b3-e88c8ba7f951",
            "resource_group": "36431c4040924be6bad4306be499b281",
            "resource_group_name": "asset-forome",
            "resource_name": "forome-annotation",
            "resource_status": "running",
            "status": "running",
            "status_reasons": [],
            "tags": [],
            "timeouts": null,
            "total_network_bandwidth": 6000,
            "total_volume_bandwidth": 2000,
            "user_data": "#cloud-config\nbootcmd:\n- mkdir -p /data\n- while [ ! -b $(readlink -f /dev/vdd) ]; do echo \"waiting for device /dev/vdd\"; sleep 5 ; done\n- while [ ! -b $(readlink -f /dev/vde) ]; do echo \"waiting for device /dev/vde\"; sleep 5 ; done\n- printf 'g\\nn\\n1\\n\\n\\nw' | fdisk /dev/vdd\n- printf 'g\\nn\\n1\\n\\n\\nw' | fdisk /dev/vde\n- mkfs.ext4 /dev/vdd1 -L var\n- mkfs.ext4 /dev/vde1 -L data\n- mount /dev/vdd1 /mnt\n- rsync -aulvXpogtr /var/lib/* /mnt\n- umount /mnt\n- rm -rf /var/lib/*\n# - mkdir /var/lib\nmounts:\n- [ \"LABEL=data\", \"/data\", \"ext4\", \"defaults\", \"0\", \"1\" ]\n- [ \"LABEL=var\", \"/var/lib\", \"ext4\", \"defaults,noatime,nofail\", \"0\", \"2\" ]\nusers:\n- default\n- name: forome\n  shell: '/bin/bash'\n  sudo: ['ALL=(ALL:ALL) NOPASSWD:ALL']\n  groups: sudo\n  ssh-authorized-keys:\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCdnT2fTzTk6CFHQ425cNh5jOp+HYVmJHQ7KB5wS5CrZX5Z0tBH/BkKsSRrV3+e9Lcp77mYJKcK2Kf1Z7xcBRAwTuXJCXcOggxWpnWDUJ9VCAn90bMX1SzEBnW9Zwem0Gxxnw9P6lom8MQyLWmQIukH5KSrhaRxJqKnghM4sDiEpdyuvHk3k/CNy/k7glOjPUsZRbLxX/DyIffFVBksXVCEyA86N5HLN/w4cxH8/qGV/GX+YUtv/wyFsdNtYOWbOddRKEpE3tUFRuN1kqJWtTOaYEnSD+f6KcVhHaodmtKY6AJIloR7J1veluZN99xYQqdD7Kmn1cuQbZxSfsonDBdWoXLkrPMo43mGhgaQcdUc33nfGin/2ASsfBl6Xb1hFKWJtri2WllG0VT/aOvaxgjoxsbdCFa1t+IRWbySxwWDDQUlT9M8x9TsZj+Xucw6lwOe6Gqji9vFxVbgnIx3M5bAZyf5GQGV5PKeK1Qc1o1FMfWQbqhIqMrBGACY4bCyFz4+0nVNhp6G5/OnxLk70X5niw7Vo0qHxARO0su8xWV0DVq5yIVPcfzzmsvkGLzoQuWduEzbpkLiNqR3Q/HRva7w05N/WCZ81vFG1sCiFMkKf5S47sBFxDUwjrqVj+WrvGS2vElkCbLzBkSfOzsDap+gpV/RTtmd61jwJQx7Wp/NEw==\n\npackage_update: true\npackage_upgrade: true\npackage_reboot_if_required: false\npackages:\n- vim\n- tmux\n- rsync\n- python3",
            "vcpu": [
              {
                "architecture": "amd64",
                "count": 4
              }
            ],
            "volume_attachments": [
              {
                "id": "0727-362d6bea-9a20-488e-ba5d-34377f6f03b0",
                "name": "excitable-provoking-cornbread-polar",
                "volume_crn": "crn:v1:bluemix:public:is:us-south-2:a/e4fa9f3a7927459ca439e4b9eb522d54::volume:r006-6baaeb5d-322b-4363-9d6a-e4e15eb10e9b",
                "volume_id": "r006-6baaeb5d-322b-4363-9d6a-e4e15eb10e9b",
                "volume_name": "forome-annotation-boot"
              },
              {
                "id": "0727-fed2b5c6-3749-4b43-abdd-376c848ec1be",
                "name": "showplace-bowhead-carbon-unable",
                "volume_crn": "crn:v1:bluemix:public:is:us-south-2:a/e4fa9f3a7927459ca439e4b9eb522d54::volume:r006-18134723-c642-42b9-a473-ef88a594d6d0",
                "volume_id": "r006-18134723-c642-42b9-a473-ef88a594d6d0",
                "volume_name": "forome-annotation-data-1000gb"
              },
              {
                "id": "0727-edcb7801-e612-4c25-b668-bd06039277db",
                "name": "humility-foothold-acclimate-synopsis",
                "volume_crn": "crn:v1:bluemix:public:is:us-south-2:a/e4fa9f3a7927459ca439e4b9eb522d54::volume:r006-fc7caf1a-b2b6-429f-b3d2-3e2681df6ced",
                "volume_id": "r006-fc7caf1a-b2b6-429f-b3d2-3e2681df6ced",
                "volume_name": "forome-annotation-var-1000gb"
              }
            ],
            "volumes": [
              "r006-18134723-c642-42b9-a473-ef88a594d6d0",
              "r006-fc7caf1a-b2b6-429f-b3d2-3e2681df6ced"
            ],
            "vpc": "r006-e36038c9-4c39-4897-a3c7-ee925ef15430",
            "wait_before_delete": true,
            "zone": "us-south-2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.ssh.ibm_is_ssh_key.ssh_public_key",
            "module.vsi.data.ibm_is_image.ubuntu",
            "module.vsi.data.template_file.user_data",
            "module.vsi.ibm_is_volume.data",
            "module.vsi.ibm_is_volume.var"
          ]
        }
      ]
    },
    {
      "module": "module.vsi",
      "mode": "managed",
      "type": "ibm_is_volume",
      "name": "data",
      "provider": "module.vsi.provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bandwidth": 393,
            "capacity": 1000,
            "crn": "crn:v1:bluemix:public:is:us-south-2:a/e4fa9f3a7927459ca439e4b9eb522d54::volume:r006-18134723-c642-42b9-a473-ef88a594d6d0",
            "delete_all_snapshots": null,
            "encryption_key": null,
            "encryption_type": "provider_managed",
            "id": "r006-18134723-c642-42b9-a473-ef88a594d6d0",
            "iops": 3000,
            "name": "forome-annotation-data-1000gb",
            "profile": "general-purpose",
            "resource_controller_url": "https://cloud.ibm.com/vpc-ext/storage/storageVolumes",
            "resource_crn": "crn:v1:bluemix:public:is:us-south-2:a/e4fa9f3a7927459ca439e4b9eb522d54::volume:r006-18134723-c642-42b9-a473-ef88a594d6d0",
            "resource_group": "36431c4040924be6bad4306be499b281",
            "resource_group_name": "asset-forome",
            "resource_name": "forome-annotation-data-1000gb",
            "resource_status": "available",
            "source_snapshot": null,
            "status": "available",
            "status_reasons": [],
            "tags": [],
            "timeouts": null,
            "zone": "us-south-2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "module": "module.vsi",
      "mode": "managed",
      "type": "ibm_is_volume",
      "name": "var",
      "provider": "module.vsi.provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bandwidth": 393,
            "capacity": 1000,
            "crn": "crn:v1:bluemix:public:is:us-south-2:a/e4fa9f3a7927459ca439e4b9eb522d54::volume:r006-fc7caf1a-b2b6-429f-b3d2-3e2681df6ced",
            "delete_all_snapshots": null,
            "encryption_key": null,
            "encryption_type": "provider_managed",
            "id": "r006-fc7caf1a-b2b6-429f-b3d2-3e2681df6ced",
            "iops": 3000,
            "name": "forome-annotation-var-1000gb",
            "profile": "general-purpose",
            "resource_controller_url": "https://cloud.ibm.com/vpc-ext/storage/storageVolumes",
            "resource_crn": "crn:v1:bluemix:public:is:us-south-2:a/e4fa9f3a7927459ca439e4b9eb522d54::volume:r006-fc7caf1a-b2b6-429f-b3d2-3e2681df6ced",
            "resource_group": "36431c4040924be6bad4306be499b281",
            "resource_group_name": "asset-forome",
            "resource_name": "forome-annotation-var-1000gb",
            "resource_status": "available",
            "source_snapshot": null,
            "status": "available",
            "status_reasons": [],
            "tags": [],
            "timeouts": null,
            "zone": "us-south-2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfX0="
        }
      ]
    }
  ]
}
